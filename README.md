# 智能护眼助手

一个基于Python的智能护眼工具，集成了屏幕亮度调节、色温控制、环境光检测和休息提醒等功能，并提供优雅的诗词显示界面。

## 功能特点

1. **智能调光功能**
   - 屏幕亮度自动调节
   - 色温智能控制（集成f.lux）
   - 环境光自适应调节

2. **休息提醒系统**
   - 定时休息提醒
   - 自定义提醒间隔
   - 贴心的休息建议

3. **环境光检测**
   - 实时环境光监测
   - 智能亮度调整
   - 自动色温适配

4. **每日诗词**
   - 优雅的诗词展示
   - 中英双语显示
   - 自动更新刷新

## 依赖要求

- Python 3.7+
- 必需的Python库：
  ```
  tkinter (Python内置)
  opencv-python
  numpy
  requests
  psutil
  screen-brightness-control
  wmi
  ```
- 外部依赖：
  - f.lux (用于色温调节)

## 安装说明

1. 安装Python依赖：
   ```bash
   pip install opencv-python numpy requests psutil screen-brightness-control wmi
   ```

2. 安装f.lux：
   - 访问 https://justgetflux.com/ 下载最新版本
   - 运行安装程序，使用默认安装位置
   - 确保f.lux正在运行

## 功能实现细节

### 1. 基础框架
- [x] 创建主窗口类
- [x] 实现基本布局
- [x] 设置窗口属性
- [x] 添加菜单栏
- [x] 实现设置保存/加载

### 2. 智能调光功能
- [x] 亮度调节模块
  - 使用screen-brightness-control和WMI实现
  - 支持实时亮度调整
  - 添加错误处理和反馈

- [x] 色温调节模块
  - 集成f.lux实现
  - 自动检测f.lux安装位置
  - 支持多种调用方式
  - 添加进程检测和路径验证

### 3. 环境光检测
- [x] 摄像头实时监测
- [x] 智能亮度分析
- [x] 自动调节策略

### 4. 休息提醒系统
- [x] 定时提醒功能
- [x] 自定义时间间隔
- [x] 友好的提醒界面

### 5. 诗词显示
- [x] 优雅的界面设计
- [x] 自动更新机制
- [x] 中英文显示

## 问题解决记录

### 1. f.lux集成问题
- 问题：无法在标准位置找到f.lux
- 解决方案：
  1. 实现多路径检测
  2. 添加进程检测功能
  3. 从运行进程获取实际路径
  4. 优化调用方式和错误处理

### 2. 屏幕亮度控制
- 问题：不同系统兼容性
- 解决方案：
  1. 使用screen-brightness-control主要实现
  2. 添加WMI备用方案
  3. 完善错误处理机制

### 3. 界面优化
- 问题：布局和视觉体验
- 解决方案：
  1. 优化控件布局和间距
  2. 统一按钮样式和大小
  3. 改进文本对齐和显示

## 使用说明

1. 启动程序后，确保f.lux正在运行
2. 使用滑块调节屏幕亮度和色温
3. 点击"开始环境光检测"启动自动调节
4. 设置休息提醒时间间隔
5. 享受优雅的诗词显示

## 注意事项

1. 首次使用需要安装所有依赖
2. 确保f.lux已正确安装并运行
3. 某些功能可能需要管理员权限
4. 建议使用默认安装路径

## 开发日志

- 完成基础框架搭建
- 实现亮度和色温调节
- 添加环境光检测
- 集成f.lux功能
- 优化界面布局
- 添加诗词显示
- 完善错误处理
- 改进用户体验

## 未来计划

1. 添加更多护眼模式
2. 优化自动调节算法
3. 增加用户配置选项
4. 提供多语言支持
5. 添加数据统计功能